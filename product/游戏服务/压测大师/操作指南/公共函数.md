本文主要介绍如何在压测计划里引用平台提供的系统函数和如何创建自定义函数及引用方法。

## 创建自定义函数
1. 进入公共函数列表。
2. 单击**新建函数**。
![](https://qcloudimg.tencent-cloud.cn/raw/f0136d6d2346a95229e7560730effbaa.png)
3. 填写相关设置和函数主体。
>!如果函数需要入参，必须填写对应的 **参数名称**、**参数描述**、**参数类型**和**参数默认值**。

 ![](https://qcloudimg.tencent-cloud.cn/raw/984b1fb1776b3b4d3e6162f610352a06.png)
4. 调试函数
单击**调试**，可查看调试返回结果。
>!如果函数已设置入参，单击**调试**，可通过弹窗修改入参的数值，方便校验函数有效性。

 ![](https://qcloudimg.tencent-cloud.cn/raw/adff2075b5753999cd44b9c916b01a5d.png)
调试结果如下：
![](https://qcloudimg.tencent-cloud.cn/raw/fe4124273f061b28314719bcf90ced47.png)
5. 保存并启用
当函数校验无误后，方可单击**保存并启用**，公共函数列表将新增一条自定义函数。该函数仅在当前项目可见。
6. 函数的查看与编辑
对于平台提供的系统函数（sys_），仅提供查看功能；对于用户自定义函数，支持查看、编辑和删除功能。


## 压测计划中引用公共函数
在压测计划中多处可引用公共函数，其中包括：全局变量、全局请求配置、链路变量、链路请求配置、请求 URL、请求头、请求体、请求参数、请求结果断言、前置处理器、后置处理器等。

### 列表引用公共函数
在填写接口请求信息时，可通过**引用公共函数**选择所需的函数。
- 单击**复制**，然后在所需要函数的编辑框**粘贴**即可。
![](https://qcloudimg.tencent-cloud.cn/raw/6a3473dd6169dd73a70265c92904f10b.png)
- 单击**编辑**，可配置各输入参数、在线调试函数以及查看函数实现的详情。
![](https://qcloudimg.tencent-cloud.cn/raw/a40a4673deda852c5cfbeb0018ed7b95.png)

### 快捷方式引用公共函数
除了以上引用公共函数的方式，平台还提供快捷键的方式。在所需要使用函数的编辑框内输入**”$“**，将自动显示下拉列表，其中包括可引用的公共函数。
![](https://qcloudimg.tencent-cloud.cn/raw/61a668c9a480a99bd3d064940dd187df.png)
