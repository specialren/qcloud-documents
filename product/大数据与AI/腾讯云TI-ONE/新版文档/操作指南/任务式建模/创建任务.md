## 创建步骤

### 填写基本信息

1. 登录[TI-ONE控制台](https://console.cloud.tencent.com/tione/v2)，进入**训练工坊** > **任务式建模**，单击**新建**，开始创建训练任务。
![](https://qcloudimg.tencent-cloud.cn/raw/cbd3774843d3b9000a7f922c5d603101.png)
2. 在基本信息配置页，填写如下信息：
   - 任务名称：仅支持中英文、数字、下划线"_"、短横"-"，只能以中英文、数字开头
   - 地域：训练任务所在的地域，默认为当前列表页所在的地域
   - 训练框架：可选择平台内置训练框架和自定义镜像，其中内置训练框架请查看【内置训练框架列表】
   - 训练模式：不同训练框架支持的训练模式请查看【内置训练框架列表】
   - 计费模式：可选择后付费和预付费，若选择后付费，则需要选择算力规格和节点数量；若选择预付费，则需要先创建资源组，购买节点，相关操作请查看【资源组管理】，选择完资源组后选择对应的计算资源。平台支持的计费规格请查看【TI-ONE计费规格列表】
   - 标签：可为任务创建标签，一个任务可添加多个标签
   - 描述：可添加最多500字的备注描述
![](https://qcloudimg.tencent-cloud.cn/raw/327cc342cd0c27c75b2fceca4ad85f0c.png)

### 填写任务配置信息

任务配置页面需要配置本次训练任务的算法、数据、输入输出等信息，具体配置项说明如下：
1. 算法来源：需要选择代码包和启动命令，其中代码包可先上传至 cos 存储桶中，也可以直接在 TI-ONE 的 cos 文件选择对话框中点击上传。平台默认入口为start.sh，若填写了启动命令，则通过启动命令启动。当您选择训练框架为平台内置框架时，代码包为必填；当您选择训练框架为自定义框架（自定义镜像）时，代码包为选填。
2. 数据来源：数据来源支持数据集、 COS、CFS、EMR(HDFS)和Wedata(HDFS)，若选择数据集，则需要首先在平台**数据中心** > **数据集管理**创建数据集；若选择 COS，则需要选择数据集所在的 COS 路径；若选择 CFS、EMR(HDFS)或者Wedata(HDFS)，则需要先选择 VPC 和子网，然后再下拉选择该 VPC 和子网下的 CFS 文件系统或者EMR集群或者Wedata数据源，同时填写需要平台挂载的数据源路径；以上几种数据来源在配置的时候均可定义数据映射路径`<channel_name>`，选择的数据会默认挂载到` /opt/ml/input/data/<channel_name>` 下作为训练数据目录，您的代码中需要填写该路径以获取数据。创建任务时可选择多个数据集或者多个数据路径，分别设置不同的channel_name，挂载到容器中，供训练算法读取。您也可以不在界面中配置数据来源，直接在代码中通过Tikit或者客户端工具访问远端数据源，此时若您的代码中需要访问 EMR，亦需要配置 VPC 和子网，这样可以保证训练容器和您的 EMR 集群在同一 VPC 中。
	- 使用 EMR(HDFS)作为训练数据源注意事项：平台默认使用 Hadoop 身份访问挂载 HDFS；如果需要使用其他身份，请按照如下代码包规范上传相关配置文件
		1. 用户名和 keytab 文件统一由用户提供，放在代码包里面。
		2. 代码包规范：
/`<emr_id>`/username.txt (内容为用户名，内容如： ”hadoop/172.0.1.5“，文件不存在或者文件为空时使用默认的用户名“hadoop”)
/`<emr_id>`/emr.keytab （内容为keytab认证文件）
（因为平台同时支持多个emr的多个认证，所以需要添加 `<emr_id>` 到目录中，值如：emr-1rnhggsh）
3. 调优参数：填写的超参数 JSON 会保存为 /opt/ml/input/config/hyperparameters.json 文件，您的代码需自行解析。
4. 训练输出：选择您需要保存训练输出的 COS 路径，平台会默认将 /opt/ml/output 路径下的数据定期上传至输出 COS 路径；若您需要将训练输出的模型一键发布至模型仓库，则需要将模型输出保存至 /opt/ml/model 路径下，平台会在训练结束后将该路径下的数据上传至 COS 路径
5. CLS日志投递：CLS 日志投递默认关闭，TI 控制台会默认展示 7 天的日志，若您期望持久化存储日志，获得日志检索等服务，可以开启 CLS 日志投递，打开 CLS 后可以将日志投递至 CLS 服务（需要确保 CLS 服务已完成开通），CLS 产品介绍和收费指南请查看 [CLS 介绍](https://cloud.tencent.com/document/product/614/45802)。
6. VPC：您可以选择配置自有的 VPC 网络，配置后训练容器可访问同一 VPC 网络下的其他云服务。
![](https://qcloudimg.tencent-cloud.cn/raw/2386b525e0c05cba061da1615019726a.png)
在您配置任务的过程中，底部会实时显示您当前任务配置的价格，请注意关注。所有信息配置完成后，即完成了任务创建。
![](https://qcloudimg.tencent-cloud.cn/raw/3d99387cec0cc1554638571b38e4a79b.png) 

